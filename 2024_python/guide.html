<!DOCTYPE html>
<html>
<head>
<title>guide.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<ul>
<li>얼굴 인식 API를 사용하는 데 필요한 API를 설명합니다.</li>
</ul>
<h2 id="api-%EA%B3%B5%ED%86%B5-%EC%A0%95%EB%B3%B4">API 공통 정보</h2>
<h3 id="%EC%82%AC%EC%A0%84-%EC%A4%80%EB%B9%84">사전 준비</h3>
<ul>
<li>API 사용을 위해서는 <strong>Appkey</strong>가 필요합니다.</li>
<li>스푸핑 감지 기능이 포함된 Plus API를 사용하기 위해서는 <strong>API Key</strong>가 추가로 필요하고, API 요청 시 Request Header에 아래처럼 추가해서 요청해야 합니다.
<ul>
<li><code>-H 'x-nhn-apikey:{API KEY}'</code></li>
</ul>
</li>
</ul>
<h3 id="%EC%9A%94%EC%B2%AD-%EA%B3%B5%ED%86%B5-%EC%A0%95%EB%B3%B4">요청 공통 정보</h3>
<p>[API 도메인]</p>
<table>
<thead>
<tr>
<th>도메인</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://face-recognition-plus.api.nhncloudservice.com">https://face-recognition-plus.api.nhncloudservice.com</a></td>
</tr>
</tbody>
</table>
<h3 id="%EC%9E%85%EB%A0%A5-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EA%B0%80%EC%9D%B4%EB%93%9C">입력 이미지 가이드</h3>
<ul>
<li>입력 이미지는 너비와 높이 모두 최소 80px 이상이어야 합니다.
<ul>
<li>얼굴 크기가 최소 60*60px 이상이어야 얼굴 인식이 가능합니다.</li>
<li>이미지 크기가 커질수록 최소 얼굴 크기도 커져야 더 정확하게 인식이 가능합니다.</li>
<li>이미지에서 얼굴이 차지하는 비중이 클수록 더 정확하게 인식이 가능합니다.</li>
</ul>
</li>
<li>입력 이미지에서 얼굴의 좌우 각도(Yaw)와 얼굴의 상하 각도(Pitch)는 모두 45도 이하여야 합니다.</li>
<li>이미지 최대 크기: 최대 3MB(3,000,000Byte)</li>
<li>지원 이미지 포맷: PNG, JPEG</li>
<li>이미지를 URL로 전달 할 때, URL에 포트를 직접 지정하는 경우 80, 443, 10000~12000 포트만 사용 가능합니다.</li>
</ul>
<h3 id="%EC%9D%91%EB%8B%B5-%EA%B3%B5%ED%86%B5-%EC%A0%95%EB%B3%B4">응답 공통 정보</h3>
<ul>
<li>모든 API 요청에 '200 OK'로 응답합니다.</li>
<li>자세한 응답 결과는 <code>응답 본문 헤더</code>를 참고합니다.</li>
</ul>
<p>[응답 본문 헤더]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>header.isSuccessful</td>
<td>boolean</td>
<td>true: 정상<br>false: 오류</td>
</tr>
<tr>
<td>header.resultCode</td>
<td>int</td>
<td>0: 정상<br>0보다 큼: 부분 성공<br>음수: 오류</td>
</tr>
<tr>
<td>header.resultMessage</td>
<td>string</td>
<td>&quot;Success&quot;: 정상<br>그 외: 오류 메시지 반환</td>
</tr>
</tbody>
</table>
<p>[성공 응답 본문 예]</p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>
    }
}
</div></code></pre>
<p>[실패 응답 본문 예]</p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">-40000</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"InvalidParam"</span>
    }
}
</div></code></pre>
<h2 id="api-%EB%AA%A9%EC%B0%A8">API 목차</h2>
<h3 id="%EA%B7%B8%EB%A3%B9-%EC%83%9D%EC%84%B1">그룹 생성</h3>
<ul>
<li>그룹을 생성하는 API입니다. 생성된 그룹에 <a href="./api-guide/#add-face">얼굴 등록</a>을 이용하여 얼굴을 등록할 수 있습니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/groups</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
</tbody>
</table>
<p>[Request Body]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수 여부</th>
<th>기본값</th>
<th>유효 범위</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>groupId</td>
<td>string</td>
<td>O</td>
<td></td>
<td>[a-z0-9-]<br>최대 255자</td>
<td>&quot;my-group&quot;</td>
<td>사용자가 등록한 그룹 아이디</td>
</tr>
</tbody>
</table>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X POST <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/groups'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span> -H <span class="hljs-string">'Content-Type: application/json;charset=UTF-8'</span> -d <span class="hljs-string">'{</span></span>
    "groupId": "my-group"
}'
</div></code></pre>
</details>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<details>
  <summary>응답 본문 예</summary>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>,
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>
    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-40010</td>
<td>InvalidGroupID</td>
<td>그룹 아이디 오류</td>
</tr>
<tr>
<td>-40020</td>
<td>DuplicatedGroupID</td>
<td>중복된 그룹 아이디</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>
<h3 id="%EA%B7%B8%EB%A3%B9-%EB%AA%A9%EB%A1%9D">그룹 목록</h3>
<ul>
<li>그룹 목록을 조회하는 API입니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/groups</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
</tbody>
</table>
<p>[URL Parameter]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수 여부</th>
<th>기본값</th>
<th>유효 범위</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>limit</td>
<td>int</td>
<td>O</td>
<td></td>
<td>1 ~ 200</td>
<td>100</td>
<td>최대 크기</td>
</tr>
<tr>
<td>next-token</td>
<td>string</td>
<td></td>
<td></td>
<td></td>
<td>&quot;skljsdioew...&quot;</td>
<td>'그룹 목록 응답 본문 데이터'에서 반환한 값<br> 결과가 잘린 경우 next-token을 이용하여 이후 결과를 가지고 올 수 있음</td>
</tr>
</tbody>
</table>
<ul>
<li>주의 사항
<ul>
<li>처음에는 next-token이 없습니다.</li>
<li>token은 특정 시간이나 특정 조건에서 사라질 수 있습니다.</li>
<li>token 발행 시 limit은 고정됩니다.</li>
</ul>
</li>
<li>시나리오 예</li>
<li>최초 query</li>
</ul>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X GET <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/groups?limit={limit}'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span></span>
</div></code></pre>
</details>
<ul>
<li>'그룹 목록 응답 본문 데이터'에 포함된 next-token을 이용하여 요청</li>
</ul>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X GET <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/groups?limit={limit}&amp;next-token={next-token}'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span></span>
</div></code></pre>
</details>
<ul>
<li>next-token이 존재하면 limit은 변경될 수 없으며 token이 발행될 때의 값으로 자동 설정됨</li>
</ul>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<p>[응답 본문 데이터]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>data.groupCount</td>
<td>int</td>
<td>O</td>
<td>2</td>
<td>그룹 수</td>
</tr>
<tr>
<td>data.groups[].groupId</td>
<td>string</td>
<td>O</td>
<td>&quot;group-id&quot;</td>
<td>사용자가 등록한 그룹 아이디</td>
</tr>
<tr>
<td>data.groups[].modelVersion</td>
<td>string</td>
<td>O</td>
<td>&quot;v1.0&quot;</td>
<td>얼굴 감지 모델 버전 정보</td>
</tr>
<tr>
<td>data.nextToken</td>
<td>string</td>
<td>O</td>
<td>&quot;dlkj-210jwoivndslko9d...&quot;</td>
<td>페이징에서 사용할 token<br>결과가 잘린 경우 next-token을 이용하여 이후 결과를 가지고 올 수 있음</td>
</tr>
</tbody>
</table>
<details>
  <summary>응답 본문 예</summary>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>,
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"groupCount"</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">"groups"</span>: [{
            <span class="hljs-attr">"groupId"</span>: <span class="hljs-string">"group-id"</span>,
            <span class="hljs-attr">"modelVersion"</span>: <span class="hljs-string">"v1.0"</span>
        }, {
            <span class="hljs-attr">"groupId"</span>: <span class="hljs-string">"my-group"</span>,
            <span class="hljs-attr">"modelVersion"</span>: <span class="hljs-string">"v1.0"</span>
        }],
        <span class="hljs-attr">"nextToken"</span>:<span class="hljs-string">"dlkj-210jwoivndslko9d..."</span>
    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-40040</td>
<td>InvalidTokenError</td>
<td>잘못된 token 사용</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>
<h3 id="%EA%B7%B8%EB%A3%B9-%EC%83%81%EC%84%B8-%EC%A0%95%EB%B3%B4">그룹 상세 정보</h3>
<ul>
<li>그룹 아이디, 모델 버전, 그룹에 등록한 얼굴 수 등 특정 그룹의 상세 정보를 조회하는 API입니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
<tr>
<td>group-id</td>
<td>사용자가 등록한 그룹 아이디<br>[a-z0-9-]<br>최대 255자</td>
</tr>
</tbody>
</table>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X GET <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span></span>
</div></code></pre>
</details>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<p>[응답 본문 데이터]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>data.groupCount</td>
<td>int</td>
<td>O</td>
<td>1</td>
<td>그룹 수</td>
</tr>
<tr>
<td>data.groups[].groupId</td>
<td>string</td>
<td>O</td>
<td>&quot;group-id&quot;</td>
<td>사용자가 등록한 그룹 아이디</td>
</tr>
<tr>
<td>data.groups[].modelVersion</td>
<td>string</td>
<td>O</td>
<td>&quot;v1.0&quot;</td>
<td>얼굴 감지 모델 버전 정보</td>
</tr>
<tr>
<td>data.groups[].createTime</td>
<td>string</td>
<td>O</td>
<td>&quot;2020-11-04T12:36:24&quot;</td>
<td>그룹을 생성한 시간</td>
</tr>
<tr>
<td>data.groups[].faceCount</td>
<td>int</td>
<td></td>
<td>365</td>
<td>그룹에 등록한 얼굴 수</td>
</tr>
</tbody>
</table>
<details>
  <summary>응답 본문 예</summary>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>,
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"groupCount"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">"groups"</span>: [{
            <span class="hljs-attr">"groupId"</span>: <span class="hljs-string">"group-id"</span>,
            <span class="hljs-attr">"modelVersion"</span>: <span class="hljs-string">"v1.0"</span>,
            <span class="hljs-attr">"createTime"</span>: <span class="hljs-string">"2020-09-29T14:34:12"</span>,
            <span class="hljs-attr">"faceCount"</span>: <span class="hljs-number">365</span>
        }]
    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-40030</td>
<td>NotFoundGroupError</td>
<td>그룹 아이디를 찾을 수 없음</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>
<h3 id="%EA%B7%B8%EB%A3%B9-%EC%82%AD%EC%A0%9C">그룹 삭제</h3>
<ul>
<li>특정 그룹과 그 그룹에 속한 얼굴 정보를 영구히 삭제하는 API입니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>DELETE</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
<tr>
<td>group-id</td>
<td>사용자가 등록한 그룹 아이디<br>[a-z0-9-]<br>최대 255자</td>
</tr>
</tbody>
</table>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X DELETE <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span></span>
</div></code></pre>
</details>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<details>
  <summary>응답 본문 예</summary>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>,
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>
    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-40030</td>
<td>NotFoundGroupError</td>
<td>그룹 아이디를 찾을 수 없음</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>
<h3 id="%EC%96%BC%EA%B5%B4-%EA%B0%90%EC%A7%80">얼굴 감지</h3>
<ul>
<li>입력 이미지에서 얼굴을 감지하는 API입니다.</li>
<li>감지한 얼굴에서 얼굴, 눈, 코, 입 등의 위치 정보와 신뢰도 값을 반환합니다.</li>
<li>입력 이미지에서 얼굴이 큰 순서대로 최대 20개의 얼굴을 감지합니다.</li>
<li>입력 이미지는 Base64로 인코딩된 이미지 바이트로 전달하거나 이미지 URL로 전달할 수 있습니다.</li>
<li>입력 이미지에 대한 세부사항은 <a href="./api-guide/#input-image-guide">입력 이미지 가이드</a>를 참고하시기 바랍니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/detect</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
</tbody>
</table>
<p>[Request Body]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수 여부</th>
<th>기본값</th>
<th>유효 범위</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>image</td>
<td>object</td>
<td>O</td>
<td></td>
<td></td>
<td>-</td>
<td>얼굴 감지에 사용할 이미지</td>
</tr>
<tr>
<td>image.url</td>
<td>string</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;https://...&quot;</td>
<td>이미지의 URL</td>
</tr>
<tr>
<td>image.bytes</td>
<td>blob</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;/0j3Ohdk==...&quot;</td>
<td>Base64로 인코딩된 이미지 바이트</td>
</tr>
<tr>
<td>orientation</td>
<td>bool</td>
<td></td>
<td>true</td>
<td>true, false</td>
<td>false</td>
<td>얼굴 방향 감지 기능 사용 여부</td>
</tr>
<tr>
<td>mask</td>
<td>bool</td>
<td></td>
<td>true</td>
<td>true, false</td>
<td>false</td>
<td>마스크 착용 감지 기능 사용 여부</td>
</tr>
<tr>
<td>spoofing</td>
<td>bool</td>
<td></td>
<td>false</td>
<td>true, false</td>
<td><code>{&quot;spoofing&quot;: true}</code></td>
<td>스푸핑 감지 기능 사용 여부</td>
</tr>
<tr>
<td>spoofingCondition</td>
<td>string</td>
<td></td>
<td>&quot;balanced&quot;</td>
<td>&quot;balanced&quot;, &quot;strict&quot;, &quot;weak&quot;</td>
<td><code>{&quot;spoofingCondition&quot;:&quot;strict&quot;}</code></td>
<td>스푸핑 감지 감도</td>
</tr>
</tbody>
</table>
<ul>
<li>image.url, image.bytes 중 반드시 1개만 있어야 합니다.</li>
</ul>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X POST <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/detect'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span> -H <span class="hljs-string">'Content-Type: application/json;charset=UTF-8'</span> -d <span class="hljs-string">'{</span></span>
    "image": {
        "url":"https://..."
    },
    "spoofing": true,
    "spoofingCondition": "strict"
}'
</div></code></pre>
</details>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<p>[응답 본문 데이터]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>data.faceDetailCount</td>
<td>int</td>
<td>O</td>
<td>1</td>
<td>감지한 얼굴 수</td>
</tr>
<tr>
<td>data.faceDetails[].bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>이미지 내에서 감지한 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.faceDetails[].bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.faceDetails[].bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.faceDetails[].bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.faceDetails[].bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.faceDetails[].landmarks</td>
<td>array</td>
<td>O</td>
<td>-</td>
<td>얼굴 특징</td>
</tr>
<tr>
<td>data.faceDetails[].landmarks[].type</td>
<td>string</td>
<td>O</td>
<td>&quot;leftEye&quot;</td>
<td>유효한 값 목록:<br>&quot;leftEye&quot;, &quot;rightEye&quot;, &quot;nose&quot;, &quot;leftLip&quot;, &quot;rightLib&quot;</td>
</tr>
<tr>
<td>data.faceDetails[].landmarks[].y</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 y 좌표</td>
</tr>
<tr>
<td>data.faceDetails[].landmarks[].x</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 x 좌표</td>
</tr>
<tr>
<td>data.faceDetails[].orientation</td>
<td>object</td>
<td></td>
<td>0.362</td>
<td>얼굴 각도</td>
</tr>
<tr>
<td>data.faceDetails[].orientation.x</td>
<td>float</td>
<td></td>
<td>15.303436</td>
<td>얼굴 좌우 각도(Yaw)</td>
</tr>
<tr>
<td>data.faceDetails[].orientation.y</td>
<td>float</td>
<td></td>
<td>-9.222179</td>
<td>얼굴 상하 각도(Pitch)</td>
</tr>
<tr>
<td>data.faceDetails[].orientation.z</td>
<td>float</td>
<td></td>
<td>-7.97249</td>
<td>수평면 대비 얼굴 각도(Roll)</td>
</tr>
<tr>
<td>data.faceDetails[].mask</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>마스크 착용 여부</td>
</tr>
<tr>
<td>data.faceDetails[].spoofing</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>얼굴 스푸핑 여부</td>
</tr>
<tr>
<td>data.faceDetails[].confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>얼굴 인식 신뢰도</td>
</tr>
</tbody>
</table>
<details>
  <summary>응답 본문 예</summary>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>,
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"faceDetailCount"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">"faceDetails"</span>: [{
            <span class="hljs-attr">"bbox"</span>: {
                <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
            },
            <span class="hljs-attr">"landmarks"</span>: [{
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"nose"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                }, {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                }
            ],
            <span class="hljs-attr">"orientation"</span>: {
                <span class="hljs-attr">"x"</span>: <span class="hljs-number">15.303436</span>,
                <span class="hljs-attr">"y"</span>: <span class="hljs-number">-9.222179</span>,
                <span class="hljs-attr">"z"</span>: <span class="hljs-number">-7.97249</span>
            },
            <span class="hljs-attr">"mask"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"spoofing"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>
        }]
    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-45020</td>
<td>ImageTooLargeException</td>
<td>이미지 크기 초과</td>
</tr>
<tr>
<td>-45030</td>
<td>InvalidImageParameterException</td>
<td>잘못된 이미지 파라미터. 주로 Base64 인코딩이 잘못된 경우 발생</td>
</tr>
<tr>
<td>-45040</td>
<td>InvalidImageFormatException</td>
<td>지원하지 않는 이미지 포맷</td>
</tr>
<tr>
<td>-45050</td>
<td>InvalidImageURLException</td>
<td>잘못된 이미지 URL</td>
</tr>
<tr>
<td>-45060</td>
<td>ImageTimeoutError</td>
<td>이미지 다운로드 시간 초과</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>
<h3 id="%EC%96%BC%EA%B5%B4-%EB%93%B1%EB%A1%9D">얼굴 등록</h3>
<ul>
<li>입력 이미지에서 감지한 얼굴을 특정 그룹에 등록하는 API입니다.</li>
<li>입력 이미지에서 얼굴의 box를 감지하고 감지한 얼굴 box에서 얼굴 특징을 벡터로 추출합니다. 이때, 입력 이미지와 입력 이미지에서 감지한 얼굴 이미지 그 어느 것도 저장하지 않습니다.</li>
<li>추출한 벡터 데이터는 암호화하여 데이터베이스에 저장합니다.</li>
<li>저장한 벡터 데이터는 <a href="./api-guide/#search-by-face-id">페이스 아이디로 얼굴 검색</a>, <a href="./api-guide/#search-by-image">이미지로 얼굴 검색</a> API에 특징 벡터로 사용합니다.</li>
<li>입력 이미지는 Base64로 인코딩된 이미지 바이트로 전달하거나 이미지 URL로 전달할 수 있습니다.</li>
<li>입력 이미지에 대한 세부사항은 <a href="./api-guide/#input-image-guide">입력 이미지 가이드</a>를 참고하시기 바랍니다.</li>
<li>'imageId'는 입력 이미지에 부여되는 값이며 'externalImageId'는 사용자가 직접 부여할 수 있는 값입니다. 사용자는 'imageId'와 'externalImageId'를 통해 사용자 단에서 이미지 또는 페이스 아이디에 라벨링하고 인덱스처럼 자체적으로 활용할 수 있습니다.</li>
<li>'imageId'와 'externalImageId'는 <a href="./api-guide/#face-list-in-a-group">그룹 내 얼굴 목록</a>과 <a href="./api-guide/#search-by-face-id">페이스 아이디로 얼굴 검색</a>, <a href="./api-guide/#search-by-image">이미지로 얼굴 검색</a> API의 응답에서 반환됩니다.</li>
<li>단일 그룹에 등록할 수 있는 최대 얼굴 개수는 10만 개입니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
<tr>
<td>group-id</td>
<td>사용자가 등록한 그룹 아이디<br>[a-z0-9-]<br>최대 255자</td>
</tr>
</tbody>
</table>
<p>[Request Body]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수 여부</th>
<th>기본값</th>
<th>유효 범위</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>image</td>
<td>object</td>
<td>O</td>
<td></td>
<td></td>
<td>-</td>
<td>얼굴 등록에 사용할 이미지</td>
</tr>
<tr>
<td>image.url</td>
<td>string</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;https://...&quot;</td>
<td>이미지의 URL</td>
</tr>
<tr>
<td>image.bytes</td>
<td>blob</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;/0j3Ohdk==...&quot;</td>
<td>Base64로 인코딩된 이미지 바이트</td>
</tr>
<tr>
<td>externalImageId</td>
<td>string</td>
<td></td>
<td></td>
<td>[a-zA-Z0-9_.-:]<br>최대 255자</td>
<td>&quot;image01.jsp&quot;</td>
<td>사용자가 이미지 또는 페이스 아이디에 라벨링을 하기 위해 전달하는 값</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>O</td>
<td></td>
<td>1 ~ 20</td>
<td>3</td>
<td>입력 이미지에서 인식한 얼굴 중 크기가 큰 순으로 정렬하여 그룹에 등록할 최대 얼굴 수</td>
</tr>
<tr>
<td>orientation</td>
<td>bool</td>
<td></td>
<td>true</td>
<td>true, false</td>
<td>false</td>
<td>얼굴 방향 감지 기능 사용 여부</td>
</tr>
<tr>
<td>mask</td>
<td>bool</td>
<td></td>
<td>true</td>
<td>true, false</td>
<td>false</td>
<td>마스크 착용 감지 기능 사용 여부</td>
</tr>
<tr>
<td>spoofing</td>
<td>bool</td>
<td></td>
<td>false</td>
<td>true, false</td>
<td><code>{&quot;spoofing&quot;: true}</code></td>
<td>스푸핑 감지 기능 사용 여부</td>
</tr>
<tr>
<td>spoofingCondition</td>
<td>string</td>
<td></td>
<td>&quot;balanced&quot;</td>
<td>&quot;balanced&quot;, &quot;strict&quot;, &quot;weak&quot;</td>
<td><code>{&quot;spoofingCondition&quot;:&quot;strict&quot;}</code></td>
<td>스푸핑 감지 감도</td>
</tr>
</tbody>
</table>
<ul>
<li>image.url, image.bytes 중 반드시 1개만 있어야 합니다.</li>
</ul>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X POST <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span> -H <span class="hljs-string">'Content-Type: application/json;charset=UTF-8'</span> -d <span class="hljs-string">'{</span></span>
    "image": {
        "url": "https://..."
    },
    "externalImageId": "image01.jpg",
    "limit": 3,
    "spoofing": true,
    "spoofingCondition": "strict"
}'
</div></code></pre>
</details>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<p>[응답 본문 데이터]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>data.modelVersion</td>
<td>string</td>
<td>O</td>
<td>&quot;v1.0&quot;</td>
<td>얼굴 감지 모델 정보</td>
</tr>
<tr>
<td>data.addedFaceCount</td>
<td>int</td>
<td>O</td>
<td>1</td>
<td>등록한 얼굴 수</td>
</tr>
<tr>
<td>data.addedFaces[].bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>이미지 내에서 감지한 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.addedFaces[].bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.addedFaces[].bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.addedFaces[].bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.addedFaces[].bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.addedFaces[].faceId</td>
<td>string</td>
<td>O</td>
<td>&quot;9297db50-d4f2-c6b8-ea05-edf2013089fd&quot;</td>
<td>페이스 아이디</td>
</tr>
<tr>
<td>data.addedFaces[].imageId</td>
<td>string</td>
<td>O</td>
<td>&quot;87db50d4-f2c6-b8ea-05ed-9f201309fd92&quot;</td>
<td>이미지 아이디<br>하나의 이미지 아이디에 여러 페이스 아이디가 존재할 수 있음</td>
</tr>
<tr>
<td>data.addedFaces[].externalImageId</td>
<td>string</td>
<td></td>
<td>&quot;image01.jpg&quot;</td>
<td>요청에서 전달된 값</td>
</tr>
<tr>
<td>data.addedFaces[].confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>얼굴 인식 신뢰도</td>
</tr>
<tr>
<td>data.addedFaceDetails[].bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>이미지 내에서 감지한 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.addedFaceDetails[].bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.addedFaceDetails[].bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.addedFaceDetails[].bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.addedFaceDetails[].bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.addedFaceDetails[].landmarks</td>
<td>array</td>
<td>O</td>
<td>-</td>
<td>얼굴 특징</td>
</tr>
<tr>
<td>data.addedFaceDetails[].landmarks[].type</td>
<td>string</td>
<td>O</td>
<td>&quot;leftEye&quot;</td>
<td>유효한 값 목록:<br>&quot;leftEye&quot;, &quot;rightEye&quot;, &quot;nose&quot;, &quot;leftLip&quot;, &quot;rightLib&quot;</td>
</tr>
<tr>
<td>data.addedFaceDetails[].landmarks[].y</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 y 좌표</td>
</tr>
<tr>
<td>data.addedFaceDetails[].landmarks[].x</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 x 좌표</td>
</tr>
<tr>
<td>data.addedFaceDetails[].orientation</td>
<td>object</td>
<td></td>
<td>0.362</td>
<td>얼굴 각도</td>
</tr>
<tr>
<td>data.addedFaceDetails[].orientation.x</td>
<td>float</td>
<td></td>
<td>15.303436</td>
<td>얼굴 좌우 각도(Yaw)</td>
</tr>
<tr>
<td>data.addedFaceDetails[].orientation.y</td>
<td>float</td>
<td></td>
<td>-9.222179</td>
<td>얼굴 상하 각도(Pitch)</td>
</tr>
<tr>
<td>data.addedFaceDetails[].orientation.z</td>
<td>float</td>
<td></td>
<td>-7.97249</td>
<td>수평면 대비 얼굴 각도(Roll)</td>
</tr>
<tr>
<td>data.addedFaceDetails[].mask</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>마스크 착용 여부</td>
</tr>
<tr>
<td>data.addedFaceDetails[].spoofing</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>얼굴 스푸핑 여부</td>
</tr>
<tr>
<td>data.addedFaceDetails[].confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>얼굴 인식 신뢰도</td>
</tr>
<tr>
<td>data.notAddedFaceCount</td>
<td>int</td>
<td>O</td>
<td>1</td>
<td>등록하지 않은 얼굴 수</td>
</tr>
<tr>
<td>data.notAddedFaces[].bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>이미지 내에서 감지한 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.notAddedFaces[].bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.notAddedFaces[].bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.notAddedFaces[].bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.notAddedFaces[].bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.notAddedFaces[].landmarks</td>
<td>array</td>
<td>O</td>
<td>-</td>
<td>얼굴 특징</td>
</tr>
<tr>
<td>data.notAddedFaces[].landmarks[].type</td>
<td>string</td>
<td>O</td>
<td>&quot;leftEye&quot;</td>
<td>유효한 값 목록:<br>&quot;leftEye&quot;, &quot;rightEye&quot;, &quot;nose&quot;, &quot;leftLip&quot;, &quot;rightLib&quot;</td>
</tr>
<tr>
<td>data.notAddedFaces[].landmarks[].x</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 x 좌표</td>
</tr>
<tr>
<td>data.notAddedFaces[].landmarks[].y</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 y 좌표</td>
</tr>
<tr>
<td>data.notAddedFaces[].orientation</td>
<td>object</td>
<td></td>
<td>0.362</td>
<td>얼굴 각도</td>
</tr>
<tr>
<td>data.notAddedFaces[].orientation.x</td>
<td>float</td>
<td></td>
<td>15.303436</td>
<td>얼굴 좌우 각도(Yaw)</td>
</tr>
<tr>
<td>data.notAddedFaces[].orientation.y</td>
<td>float</td>
<td></td>
<td>-9.222179</td>
<td>얼굴 상하 각도(Pitch)</td>
</tr>
<tr>
<td>data.notAddedFaces[].orientation.z</td>
<td>float</td>
<td></td>
<td>-7.97249</td>
<td>수평면 대비 얼굴 각도(Roll)</td>
</tr>
<tr>
<td>data.notAddedFaces[].mask</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>마스크 착용 여부</td>
</tr>
<tr>
<td>data.notAddedFaces[].spoofing</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>얼굴 스푸핑 여부</td>
</tr>
<tr>
<td>data.notAddedFaces[].confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>얼굴 인식 신뢰도</td>
</tr>
</tbody>
</table>
<ul>
<li>data.addedFacesDetails는 data.addedFaces의 세부 정보로, 서로 중복되지 않고 별도로 저장되지 않는 정보입니다.</li>
</ul>
<details>
  <summary>응답 본문 예</summary>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>,
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"modelVersion"</span>: <span class="hljs-string">"v1.0"</span>,
        <span class="hljs-attr">"addedFaceCount"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">"addedFaces"</span>: [{

            <span class="hljs-attr">"faceId"</span>: <span class="hljs-string">"87db50d4-f2c6-b8ea-05ed-9f201309fd92"</span>,
            <span class="hljs-attr">"imageId"</span>: <span class="hljs-string">"9297db50-d4f2-c6b8-ea05-edf2013089fd"</span>,
            <span class="hljs-attr">"externalImageId"</span>: <span class="hljs-string">"image01.jpg"</span>,
            <span class="hljs-attr">"bbox"</span>: {
                <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
            },
            <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>

        }],
        <span class="hljs-attr">"addedFaceDetails"</span>: [{

            <span class="hljs-attr">"bbox"</span>: {
                <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
            },
            <span class="hljs-attr">"landmarks"</span>: [{
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"nose"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                }, {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                }
            ],
            <span class="hljs-attr">"orientation"</span>: {
                <span class="hljs-attr">"x"</span>: <span class="hljs-number">15.303436</span>,
                <span class="hljs-attr">"y"</span>: <span class="hljs-number">-9.222179</span>,
                <span class="hljs-attr">"z"</span>: <span class="hljs-number">-7.97249</span>
            },
            <span class="hljs-attr">"mask"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"spoofing"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>

        }],

        <span class="hljs-attr">"notAddedFaceCount"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">"notAddedFaces"</span>: [{

            <span class="hljs-attr">"bbox"</span>: {
                <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
            },
            <span class="hljs-attr">"landmarks"</span>: [{
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"nose"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                }, {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                }
            ],
            <span class="hljs-attr">"orientation"</span>: {
                <span class="hljs-attr">"x"</span>: <span class="hljs-number">15.303436</span>,
                <span class="hljs-attr">"y"</span>: <span class="hljs-number">-9.222179</span>,
                <span class="hljs-attr">"z"</span>: <span class="hljs-number">-7.97249</span>
            },
            <span class="hljs-attr">"mask"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"spoofing"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>

        }]

    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>40070</td>
<td>ServiceQuotaExceededPartialSuccessException</td>
<td>단일 그룹에 등록 가능한 최대 얼굴 개수 초과하여 일부만 등록 성공</td>
</tr>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-40030</td>
<td>NotFoundGroupError</td>
<td>그룹 아이디를 찾을 수 없음</td>
</tr>
<tr>
<td>-40070</td>
<td>ServiceQuotaExceededException</td>
<td>단일 그룹에 등록 가능한 최대 얼굴 개수 초과</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-45020</td>
<td>ImageTooLargeException</td>
<td>이미지 크기 초과</td>
</tr>
<tr>
<td>-45030</td>
<td>InvalidImageParameterException</td>
<td>잘못된 이미지 파라미터. 주로 Base64 인코딩이 잘못된 경우 발생</td>
</tr>
<tr>
<td>-45040</td>
<td>InvalidImageFormatException</td>
<td>지원하지 않는 이미지 포맷</td>
</tr>
<tr>
<td>-45050</td>
<td>InvalidImageURLException</td>
<td>잘못된 이미지 URL</td>
</tr>
<tr>
<td>-45060</td>
<td>ImageTimeoutError</td>
<td>이미지 다운로드 시간 초과</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>
<h3 id="%EC%96%BC%EA%B5%B4-%EC%82%AD%EC%A0%9C">얼굴 삭제</h3>
<ul>
<li>그룹에 등록한 특정 얼굴을 삭제하는 API입니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>DELETE</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}/faces/{face-id}</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
<tr>
<td>group-id</td>
<td>사용자가 등록한 그룹 아이디<br>[a-z0-9-]<br>최대 255자</td>
</tr>
<tr>
<td>face-id</td>
<td>등록된 페이스 아이디</td>
</tr>
</tbody>
</table>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X DELETE <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}/faces/{face-id}'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span></span>
</div></code></pre>
</details>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<details>
  <summary>응답 본문 예</summary>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>,
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>
    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-40030</td>
<td>NotFoundGroupError</td>
<td>그룹 아이디를 찾을 수 없음</td>
</tr>
<tr>
<td>-40050</td>
<td>NotFoundFaceIDError</td>
<td>페이스 아이디를 찾을 수 없음</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>
<h3 id="%EA%B7%B8%EB%A3%B9-%EB%82%B4-%EC%96%BC%EA%B5%B4-%EB%AA%A9%EB%A1%9D">그룹 내 얼굴 목록</h3>
<ul>
<li>특정 그룹에 등록한 얼굴 정보 목록을 조회하는 API입니다.</li>
<li>최근에 등록한 순으로 얼굴 정보 배열을 반환합니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}/faces</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
<tr>
<td>group-id</td>
<td>사용자가 등록한 그룹 아이디<br>[a-z0-9-]<br>최대 255자</td>
</tr>
</tbody>
</table>
<p>[URL Parameter]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수 여부</th>
<th>기본값</th>
<th>유효 범위</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>limit</td>
<td>int</td>
<td>O</td>
<td></td>
<td>1 ~ 200</td>
<td>100</td>
<td>최대 크기</td>
</tr>
<tr>
<td>next-token</td>
<td>string</td>
<td></td>
<td></td>
<td></td>
<td>&quot;skljsdioew...&quot;</td>
<td>'그룹 목록 응답 본문 데이터'에서 반환한 값<br> 결과가 잘린 경우 next-token을 이용하여 이후 결과를 가지고 올 수 있음</td>
</tr>
</tbody>
</table>
<ul>
<li>주의 사항
<ul>
<li>처음에는 next-token이 없습니다.</li>
<li>token은 특정 시간이나 특정 조건에서 사라질 수 있습니다.</li>
<li>token 발행 시 limit은 고정됩니다.</li>
</ul>
</li>
<li>시나리오 예</li>
<li>최초 query</li>
</ul>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X GET <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}/faces?limit={limit}'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span></span>
</div></code></pre>
</details>
<ul>
<li>'그룹 목록 응답 본문 데이터'에 포함된 next-token을 이용하여 요청</li>
</ul>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X GET <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}/faces?limit={limit}&amp;next-token={next-token}'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span></span>
</div></code></pre>
</details>
<ul>
<li>next-token이 존재하면 limit은 변경될 수 없으며 token이 발행될 때의 값으로 자동 설정됨</li>
</ul>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<p>[응답 본문 데이터]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>data.modelVersion</td>
<td>string</td>
<td>O</td>
<td>&quot;v1.0&quot;</td>
<td>얼굴 감지 모델 정보</td>
</tr>
<tr>
<td>data.faceCount</td>
<td>int</td>
<td>O</td>
<td>2</td>
<td>감지한 얼굴 수</td>
</tr>
<tr>
<td>data.faces[].bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>얼굴 등록 시 사용한 이미지에서 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.faces[].bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.faces[].bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.faces[].bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.faces[].bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.faces[].confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>얼굴 등록 시 사용한 이미지에서 얼굴의 인식 신뢰도</td>
</tr>
<tr>
<td>data.faces[].faceId</td>
<td>string</td>
<td>O</td>
<td>&quot;9297db50-d4f2-c6b8-ea05-edf2013089fd&quot;</td>
<td>페이스 아이디</td>
</tr>
<tr>
<td>data.faces[].imageId</td>
<td>string</td>
<td>O</td>
<td>&quot;87db50d4-f2c6-b8ea-05ed-9f201309fd92&quot;</td>
<td>이미지 아이디<br>하나의 이미지 아이디에 여러 페이스 아이디가 존재할 수 있음</td>
</tr>
<tr>
<td>data.faces[].externalImageId</td>
<td>string</td>
<td></td>
<td>&quot;image01.jpg&quot;</td>
<td>사용자가 이미지에 등록한 값</td>
</tr>
<tr>
<td>data.nextToken</td>
<td>string</td>
<td>O</td>
<td>&quot;dlkj-210jwoivndslko9d...&quot;</td>
<td>페이징에서 사용할 token<br>결과가 잘린 경우 next-token을 이용하여 이후 결과를 가지고 올 수 있음</td>
</tr>
</tbody>
</table>
<details>
  <summary>응답 본문 예</summary>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>,
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"modelVersion"</span>: <span class="hljs-string">"v1.0"</span>,
        <span class="hljs-attr">"faceCount"</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">"faces"</span>: [{
                <span class="hljs-attr">"faceId"</span>: <span class="hljs-string">"17db50d4-f2c6-b8ea-05ed-9f201309fd92"</span>,
                <span class="hljs-attr">"imageId"</span>: <span class="hljs-string">"9297db50-d4f2-c6b8-ea05-edf2013089fd"</span>,
                <span class="hljs-attr">"externalImageId"</span>: <span class="hljs-string">"image01.jpg"</span>,
                <span class="hljs-attr">"bbox"</span>: {
                    <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                    <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                    <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                    <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
                },
                <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>
            },
            {
                <span class="hljs-attr">"faceId"</span>: <span class="hljs-string">"87db50d4-f2c6-b8ea-05ed-9f201309fd92"</span>,
                <span class="hljs-attr">"imageId"</span>: <span class="hljs-string">"9297db50-d4f2-c6b8-ea05-edf2013089fd"</span>,
                <span class="hljs-attr">"externalImageId"</span>: <span class="hljs-string">"image01.jpg"</span>,
                <span class="hljs-attr">"bbox"</span>: {
                    <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                    <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                    <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                    <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
                },
                <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>
            }],
        <span class="hljs-attr">"nextToken"</span>:<span class="hljs-string">"dlkj-210jwoivndslko9d..."</span>
    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-40030</td>
<td>NotFoundGroupError</td>
<td>그룹 아이디를 찾을 수 없음</td>
</tr>
<tr>
<td>-40040</td>
<td>InvalidTokenError</td>
<td>잘못된 token 사용</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>
<h3 id="%ED%8E%98%EC%9D%B4%EC%8A%A4-%EC%95%84%EC%9D%B4%EB%94%94%EB%A1%9C-%EC%96%BC%EA%B5%B4-%EA%B2%80%EC%83%89">페이스 아이디로 얼굴 검색</h3>
<ul>
<li>페이스 아이디로 특정 그룹에서 얼굴을 검색하는 API입니다.</li>
<li>유사도가 가장 높은 순서로 일치하는 얼굴 정보의 배열을 반환합니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}/faces/{face-id}</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
<tr>
<td>group-id</td>
<td>사용자가 등록한 그룹 아이디<br>[a-z0-9-]<br>최대 255자</td>
</tr>
<tr>
<td>face-id</td>
<td>비교하려는 페이스 아이디</td>
</tr>
</tbody>
</table>
<p>[URL Parameter]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수 여부</th>
<th>기본값</th>
<th>유효 범위</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>limit</td>
<td>int</td>
<td>O</td>
<td></td>
<td>1 ~ 4096</td>
<td>100</td>
<td>최대 크기</td>
</tr>
<tr>
<td>threshold</td>
<td>int</td>
<td>O</td>
<td></td>
<td>1 ~ 100</td>
<td>90</td>
<td>매칭 여부를 판단하는 유사도 기준값</td>
</tr>
</tbody>
</table>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X GET <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}/faces/{face-id}?limit={limit}&amp;threshold={threshold}'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span></span>
</div></code></pre>
</details>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<p>[응답 본문 데이터]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>data.matchFaceCount</td>
<td>int</td>
<td>O</td>
<td>2</td>
<td>입력 이미지에서 감지한 가장 큰 얼굴과 일치하는 얼굴의 개수</td>
</tr>
<tr>
<td>data.matchFaces[].face.bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>얼굴 등록 시 사용한 이미지에서 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.matchFaces[].face.bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.matchFaces[].face.bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.matchFaces[].face.bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.matchFaces[].face.bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.matchFaces[].face.confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>얼굴 등록 시 사용한 이미지에서 얼굴의 인식 신뢰도</td>
</tr>
<tr>
<td>data.matchFaces[].face.faceId</td>
<td>string</td>
<td>O</td>
<td>&quot;9297db50-d4f2-c6b8-ea05-edf2013089fd&quot;</td>
<td>페이스 아이디</td>
</tr>
<tr>
<td>data.matchFaces[].face.imageId</td>
<td>string</td>
<td>O</td>
<td>&quot;87db50d4-f2c6-b8ea-05ed-9f201309fd92&quot;</td>
<td>이미지 아이디<br>하나의 이미지 아이디에 여러 페이스 아이디가 존재할 수 있음</td>
</tr>
<tr>
<td>data.matchFaces[].face.externalImageId</td>
<td>string</td>
<td></td>
<td>&quot;image01.jpg&quot;</td>
<td>사용자가 이미지에 등록한 값</td>
</tr>
<tr>
<td>data.matchFaces[].similarity</td>
<td>float</td>
<td>O</td>
<td>98.156</td>
<td>0~100 값을 가지는 유사도</td>
</tr>
</tbody>
</table>
<details>
  <summary>응답 본문 예</summary>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>,
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"matchFaceCount"</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">"matchFaces"</span>: [{
                <span class="hljs-attr">"face"</span>: {
                    <span class="hljs-attr">"faceId"</span>: <span class="hljs-string">"87db50d4-f2c6-b8ea-05ed-9f201309fd92"</span>,
                    <span class="hljs-attr">"imageId"</span>: <span class="hljs-string">"9297db50-d4f2-c6b8-ea05-edf2013089fd"</span>,
                    <span class="hljs-attr">"externalImageId"</span>: <span class="hljs-string">"image01.jpg"</span>,
                    <span class="hljs-attr">"bbox"</span>: {
                        <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                        <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                        <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                        <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
                    },
                    <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>
                },
                <span class="hljs-attr">"similarity"</span>: <span class="hljs-number">99.8945155187</span>
            },
            {
                <span class="hljs-attr">"face"</span>: {
                    <span class="hljs-attr">"faceId"</span>: <span class="hljs-string">"17db50d4-f2c6-b8ea-05ed-9f201309fd92"</span>,
                    <span class="hljs-attr">"imageId"</span>: <span class="hljs-string">"9297db50-d4f2-c6b8-ea05-edf2013089fd"</span>,
                    <span class="hljs-attr">"externalImageId"</span>: <span class="hljs-string">"image01.jpg"</span>,
                    <span class="hljs-attr">"bbox"</span>: {
                        <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                        <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                        <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                        <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
                    },
                    <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>
                },
                <span class="hljs-attr">"similarity"</span>: <span class="hljs-number">79.8945155187</span>
            }
        ]
    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-40030</td>
<td>NotFoundGroupError</td>
<td>그룹 아이디를 찾을 수 없음</td>
</tr>
<tr>
<td>-40050</td>
<td>NotFoundFaceIDError</td>
<td>페이스 아이디를 찾을 수 없음</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>
<h3 id="%EC%9D%B4%EB%AF%B8%EC%A7%80%EB%A1%9C-%EC%96%BC%EA%B5%B4-%EA%B2%80%EC%83%89">이미지로 얼굴 검색</h3>
<ul>
<li>입력 이미지에서 감지한 가장 큰 얼굴을 사용하여 특정 그룹에 속한 얼굴과 일치 여부를 비교합니다.</li>
<li>입력 이미지는 Base64로 인코딩된 이미지 바이트로 전달하거나 이미지 URL로 전달할 수 있습니다.</li>
<li>입력 이미지에 대한 세부사항은 <a href="./api-guide/#input-image-guide">입력 이미지 가이드</a>를 참고하시기 바랍니다.</li>
<li>유사도가 가장 높은 순서로 일치하는 얼굴 정보의 배열을 반환합니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}/search</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
<tr>
<td>group-id</td>
<td>사용자가 등록한 group id<br>[a-z0-9-]<br>최대255자</td>
</tr>
</tbody>
</table>
<p>[URL Parameter]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수 여부</th>
<th>기본값</th>
<th>유효 범위</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>limit</td>
<td>int</td>
<td>O</td>
<td></td>
<td>1 ~ 4096</td>
<td>100</td>
<td>최대 크기</td>
</tr>
<tr>
<td>threshold</td>
<td>int</td>
<td>O</td>
<td></td>
<td>1 ~ 100</td>
<td>90</td>
<td>매칭 여부를 판단하는 유사도 기준값</td>
</tr>
</tbody>
</table>
<p>[Request Body]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수 여부</th>
<th>기본값</th>
<th>유효 범위</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>image</td>
<td>object</td>
<td>O</td>
<td></td>
<td></td>
<td>-</td>
<td>얼굴 검색에 사용할 이미지</td>
</tr>
<tr>
<td>image.url</td>
<td>string</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;https://...&quot;</td>
<td>이미지의 URL</td>
</tr>
<tr>
<td>image.bytes</td>
<td>blob</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;/0j3Ohdk==...&quot;</td>
<td>Base64로 인코딩된 이미지 바이트</td>
</tr>
<tr>
<td>orientation</td>
<td>bool</td>
<td></td>
<td>true</td>
<td>true, false</td>
<td>false</td>
<td>얼굴 방향 감지 기능 사용 여부</td>
</tr>
<tr>
<td>mask</td>
<td>bool</td>
<td></td>
<td>true</td>
<td>true, false</td>
<td>false</td>
<td>마스크 착용 감지 기능 사용 여부</td>
</tr>
<tr>
<td>spoofing</td>
<td>bool</td>
<td></td>
<td>false</td>
<td>true, false</td>
<td><code>{&quot;spoofing&quot;: true}</code></td>
<td>스푸핑 감지 기능 사용 여부</td>
</tr>
<tr>
<td>spoofingCondition</td>
<td>string</td>
<td></td>
<td>&quot;balanced&quot;</td>
<td>&quot;balanced&quot;, &quot;strict&quot;, &quot;weak&quot;</td>
<td><code>{&quot;spoofingCondition&quot;:&quot;strict&quot;}</code></td>
<td>스푸핑 감지 감도</td>
</tr>
</tbody>
</table>
<ul>
<li>image.url, image.bytes 중 반드시 1개만 있어야 합니다.</li>
</ul>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X POST <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/groups/{group-id}/search?limit={limit}&amp;threshold={threshold}'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span> -H <span class="hljs-string">'Content-Type: application/json;charset=UTF-8'</span> -d <span class="hljs-string">'{</span></span>
    "image": {
        "url": "https://..."
    },
    "spoofing": true,
    "spoofingCondition": "strict"
}'
</div></code></pre>
</details>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<p>[응답 본문 데이터]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>data.matchFaceCount</td>
<td>int</td>
<td>O</td>
<td>2</td>
<td>입력 이미지에서 감지한 가장 큰 얼굴과 일치하는 얼굴의 개수</td>
</tr>
<tr>
<td>data.matchFaces[].face.bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>얼굴 등록 시 사용한 이미지에서 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.matchFaces[].face.bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.matchFaces[].face.bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.matchFaces[].face.bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.matchFaces[].face.bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.matchFaces[].face.confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>얼굴 등록 시 사용한 이미지에서 얼굴의 인식 신뢰도</td>
</tr>
<tr>
<td>data.matchFaces[].face.faceId</td>
<td>string</td>
<td>O</td>
<td>&quot;9297db50-d4f2-c6b8-ea05-edf2013089fd&quot;</td>
<td>페이스 아이디</td>
</tr>
<tr>
<td>data.matchFaces[].face.imageId</td>
<td>string</td>
<td>O</td>
<td>&quot;87db50d4-f2c6-b8ea-05ed-9f201309fd92&quot;</td>
<td>이미지 아이디<br>하나의 이미지 아이디에 여러 페이스 아이디가 존재할 수 있음</td>
</tr>
<tr>
<td>data.matchFaces[].face.externalImageId</td>
<td>string</td>
<td></td>
<td>&quot;image01.jpg&quot;</td>
<td>사용자가 이미지에 등록한 값</td>
</tr>
<tr>
<td>data.matchFaces[].similarity</td>
<td>float</td>
<td>O</td>
<td>98.156</td>
<td>0~100 값을 가지는 유사도</td>
</tr>
<tr>
<td>data.sourceFace.bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>입력 이미지에서 감지한 가장 큰 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.sourceFace.bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.sourceFace.bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.sourceFace.bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.sourceFace.bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.sourceFace.landmarks</td>
<td>array</td>
<td>O</td>
<td>-</td>
<td>얼굴 특징</td>
</tr>
<tr>
<td>data.sourceFace.landmarks[].type</td>
<td>string</td>
<td>O</td>
<td>&quot;leftEye&quot;</td>
<td>유효한 값 목록:<br>&quot;leftEye&quot;, &quot;rightEye&quot;, &quot;nose&quot;, &quot;leftLip&quot;, &quot;rightLib&quot;</td>
</tr>
<tr>
<td>data.sourceFace.landmarks[].y</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 y 좌표</td>
</tr>
<tr>
<td>data.sourceFace.landmarks[].x</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 x 좌표</td>
</tr>
<tr>
<td>data.sourceFace.orientation</td>
<td>object</td>
<td></td>
<td>0.362</td>
<td>얼굴 각도</td>
</tr>
<tr>
<td>data.sourceFace.orientation.x</td>
<td>float</td>
<td></td>
<td>15.303436</td>
<td>얼굴 좌우 각도(Yaw)</td>
</tr>
<tr>
<td>data.sourceFace.orientation.y</td>
<td>float</td>
<td></td>
<td>-9.222179</td>
<td>얼굴 상하 각도(Pitch)</td>
</tr>
<tr>
<td>data.sourceFace.orientation.z</td>
<td>float</td>
<td></td>
<td>-7.97249</td>
<td>수평면 대비 얼굴 각도(Roll)</td>
</tr>
<tr>
<td>data.sourceFace.mask</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>마스크 착용 여부</td>
</tr>
<tr>
<td>data.sourceFace.spoofing</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>얼굴 스푸핑 여부</td>
</tr>
<tr>
<td>data.sourceFace.confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>입력 이미지에서 감지한 가장 큰 얼굴의 인식 신뢰도</td>
</tr>
</tbody>
</table>
<details>
  <summary>응답 본문 예</summary>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>,
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"modelVersion"</span>: <span class="hljs-string">"v1.0"</span>,
        <span class="hljs-attr">"matchFaceCount"</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">"matchFaces"</span>: [{
                <span class="hljs-attr">"face"</span>: {
                    <span class="hljs-attr">"faceId"</span>: <span class="hljs-string">"87db50d4-f2c6-b8ea-05ed-9f201309fd92"</span>,
                    <span class="hljs-attr">"imageId"</span>: <span class="hljs-string">"9297db50-d4f2-c6b8-ea05-edf2013089fd"</span>,
                    <span class="hljs-attr">"externalImageId"</span>: <span class="hljs-string">"image01.jpg"</span>,
                    <span class="hljs-attr">"bbox"</span>: {
                        <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                        <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                        <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                        <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
                    },
                    <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>
                },
                <span class="hljs-attr">"similarity"</span>: <span class="hljs-number">99.8945155187</span>
            },
            {
                <span class="hljs-attr">"face"</span>: {
                    <span class="hljs-attr">"faceId"</span>: <span class="hljs-string">"17db50d4-f2c6-b8ea-05ed-9f201309fd92"</span>,
                    <span class="hljs-attr">"imageId"</span>: <span class="hljs-string">"9297db50-d4f2-c6b8-ea05-edf2013089fd"</span>,
                    <span class="hljs-attr">"externalImageId"</span>: <span class="hljs-string">"image01.jpg"</span>,
                    <span class="hljs-attr">"bbox"</span>: {
                        <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                        <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                        <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                        <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
                    },
                    <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>
                },
                <span class="hljs-attr">"similarity"</span>: <span class="hljs-number">79.8945155187</span>
            }
        ],
        <span class="hljs-attr">"sourceFace"</span>: {
            <span class="hljs-attr">"bbox"</span>: {
                <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.26785714285714285</span>,
                <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.22767857142857142</span>,
                <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.7366071428571429</span>,
                <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.8660714285714286</span>
            },
            <span class="hljs-attr">"landmarks"</span>: [
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.39285714285714285</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.47767857142857145</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.6071428571428571</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.4732142857142857</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"nose"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.5</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.6026785714285714</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.41964285714285715</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.7276785714285714</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.5758928571428571</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.7276785714285714</span>
                }
            ],
            <span class="hljs-attr">"orientation"</span>: {
                <span class="hljs-attr">"x"</span>: <span class="hljs-number">1.400425</span>,
                <span class="hljs-attr">"y"</span>: <span class="hljs-number">6.624787</span>,
                <span class="hljs-attr">"z"</span>: <span class="hljs-number">-2.08028</span>
            },
            <span class="hljs-attr">"mask"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"spoofing"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">0.999894</span>
        }
    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-40030</td>
<td>NotFoundGroupError</td>
<td>그룹 아이디를 찾을 수 없음</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-45020</td>
<td>ImageTooLargeException</td>
<td>이미지 크기 초과</td>
</tr>
<tr>
<td>-45030</td>
<td>InvalidImageParameterException</td>
<td>잘못된 이미지 파라미터. 주로 Base64 인코딩이 잘못된 경우 발생</td>
</tr>
<tr>
<td>-45040</td>
<td>InvalidImageFormatException</td>
<td>지원하지 않는 이미지 포맷</td>
</tr>
<tr>
<td>-45050</td>
<td>InvalidImageURLException</td>
<td>잘못된 이미지 URL</td>
</tr>
<tr>
<td>-45060</td>
<td>ImageTimeoutError</td>
<td>이미지 다운로드 시간 초과</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>
<h3 id="%EC%96%BC%EA%B5%B4-%EB%B9%84%EA%B5%90">얼굴 비교</h3>
<ul>
<li>기준 이미지(sourceImage)와 비교 이미지(targetImage)에서 감지한 얼굴이 얼마나 유사한지 비교합니다.</li>
<li>기준 이미지에서 감지한 얼굴 중 가장 큰 얼굴(기준 얼굴)만 사용합니다.</li>
<li>입력 이미지는 Base64로 인코딩된 이미지 바이트로 전달하거나 이미지 URL로 전달할 수 있습니다.</li>
<li>입력 이미지에 대한 세부사항은 <a href="./api-guide/#input-image-guide">입력 이미지 가이드</a>를 참고하시기 바랍니다.</li>
<li>유사도가 가장 높은 순서로 일치하는 얼굴 정보의 배열을 반환합니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/compare</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
</tbody>
</table>
<p>[URL Parameter]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수 여부</th>
<th>기본값</th>
<th>유효 범위</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>threshold</td>
<td>int</td>
<td>O</td>
<td></td>
<td>1 ~ 100</td>
<td>90</td>
<td>매칭 여부를 판단하는 유사도 기준값</td>
</tr>
</tbody>
</table>
<p>[Request Body]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수 여부</th>
<th>기본값</th>
<th>유효 범위</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>sourceImage</td>
<td>object</td>
<td>O</td>
<td></td>
<td></td>
<td>-</td>
<td>얼굴 비교 시 기준이 되는 이미지<br>(=referenceImage)</td>
</tr>
<tr>
<td>sourceImage.url</td>
<td>string</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;https://...&quot;</td>
<td>이미지의 URL</td>
</tr>
<tr>
<td>sourceImage.bytes</td>
<td>blob</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;/0j3Ohdk==...&quot;</td>
<td>Base64로 인코딩된 이미지 바이트</td>
</tr>
<tr>
<td>targetImage</td>
<td>object</td>
<td>O</td>
<td></td>
<td></td>
<td>-</td>
<td>비교 대상이 되는 얼굴이 포함된 이미지<br>(=comparisonImage)</td>
</tr>
<tr>
<td>targetImage.url</td>
<td>string</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;https://...&quot;</td>
<td>이미지의 URL</td>
</tr>
<tr>
<td>targetImage.bytes</td>
<td>blob</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;/0j3Ohdk==...&quot;</td>
<td>Base64로 인코딩된 이미지 바이트</td>
</tr>
<tr>
<td>orientation</td>
<td>bool</td>
<td></td>
<td>true</td>
<td>true, false</td>
<td>false</td>
<td>얼굴 방향 감지 기능 사용 여부</td>
</tr>
<tr>
<td>mask</td>
<td>bool</td>
<td></td>
<td>true</td>
<td>true, false</td>
<td>false</td>
<td>마스크 착용 감지 기능 사용 여부</td>
</tr>
<tr>
<td>spoofing</td>
<td>bool</td>
<td></td>
<td>false</td>
<td>true, false</td>
<td><code>{&quot;spoofing&quot;: true}</code></td>
<td>스푸핑 감지 기능 사용 여부</td>
</tr>
<tr>
<td>spoofingCondition</td>
<td>string</td>
<td></td>
<td>&quot;balanced&quot;</td>
<td>&quot;balanced&quot;, &quot;strict&quot;, &quot;weak&quot;</td>
<td><code>{&quot;spoofingCondition&quot;:&quot;strict&quot;}</code></td>
<td>스푸핑 감지 감도</td>
</tr>
</tbody>
</table>
<ul>
<li>sourceImage.url, sourceImage.bytes 중 반드시 1개만 있어야 합니다.</li>
<li>targetImage.url, targetImage.bytes 중 반드시 1개만 있어야 합니다.</li>
</ul>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X POST <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/compare?threshold={threshold}'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span> -H <span class="hljs-string">'Content-Type: application/json;charset=UTF-8'</span> -d <span class="hljs-string">'{</span></span>
    "sourceImage": {
        "url": "https://..."
    },
    "targetImage": {
        "url": "https://..."
    },
    "spoofing": true,
    "spoofingCondition": "strict"
}'
</div></code></pre>
</details>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<p>[응답 본문 데이터]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>data.modelVersion</td>
<td>string</td>
<td>O</td>
<td>&quot;v1.0&quot;</td>
<td>얼굴 감지 모델 정보</td>
</tr>
<tr>
<td>data.matchedFaceDetailCount</td>
<td>int</td>
<td>O</td>
<td>1</td>
<td>매칭된 얼굴 수</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>이미지 내에서 감지한 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.landmarks</td>
<td>array</td>
<td>O</td>
<td>-</td>
<td>얼굴 특징</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.landmarks[].type</td>
<td>string</td>
<td>O</td>
<td>&quot;leftEye&quot;</td>
<td>유효한 값 목록:<br>&quot;leftEye&quot;, &quot;rightEye&quot;, &quot;nose&quot;, &quot;leftLip&quot;, &quot;rightLib&quot;</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.landmarks[].x</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 x 좌표</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.landmarks[].y</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 y 좌표</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.orientation</td>
<td>object</td>
<td></td>
<td>0.362</td>
<td>얼굴 각도</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.orientation.x</td>
<td>float</td>
<td></td>
<td>15.303436</td>
<td>얼굴 좌우 각도(Yaw)</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.orientation.y</td>
<td>float</td>
<td></td>
<td>-9.222179</td>
<td>얼굴 상하 각도(Pitch)</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.orientation.z</td>
<td>float</td>
<td></td>
<td>-7.97249</td>
<td>수평면 대비 얼굴 각도(Roll)</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.mask</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>마스크 착용 여부</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>얼굴 인식 신뢰도</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].faceDetail.spoofing</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>얼굴 스푸핑 여부</td>
</tr>
<tr>
<td>data.matchedFaceDetails[].similarity</td>
<td>float</td>
<td>O</td>
<td>98.156</td>
<td>0~100 값을 가지는 유사도</td>
</tr>
<tr>
<td>data.unmatchedFaceDetailCount</td>
<td>int</td>
<td>O</td>
<td>1</td>
<td>매칭되지 않은 얼굴 수</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>이미지 내에서 감지한 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.landmarks</td>
<td>array</td>
<td>O</td>
<td>-</td>
<td>얼굴 특징</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.landmarks[].type</td>
<td>string</td>
<td>O</td>
<td>&quot;leftEye&quot;</td>
<td>유효한 값 목록:<br>&quot;leftEye&quot;, &quot;rightEye&quot;, &quot;nose&quot;, &quot;leftLip&quot;, &quot;rightLib&quot;</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.landmarks[].x</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 x 좌표</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.landmarks[].y</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 y 좌표</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.orientation</td>
<td>object</td>
<td></td>
<td>0.362</td>
<td>얼굴 각도</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.orientation.x</td>
<td>float</td>
<td></td>
<td>15.303436</td>
<td>얼굴 좌우 각도(Yaw)</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.orientation.y</td>
<td>float</td>
<td></td>
<td>-9.222179</td>
<td>얼굴 상하 각도(Pitch)</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.orientation.z</td>
<td>float</td>
<td></td>
<td>-7.97249</td>
<td>수평면 대비 얼굴 각도(Roll)</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.mask</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>마스크 착용 여부</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.spoofing</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>얼굴 스푸핑 여부</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].faceDetail.confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>얼굴 인식 신뢰도</td>
</tr>
<tr>
<td>data.unmatchedFaceDetails[].similarity</td>
<td>float</td>
<td>O</td>
<td>98.156</td>
<td>0~100 값을 가지는 유사도</td>
</tr>
<tr>
<td>data.sourceFace.bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>입력 이미지에서 감지한 가장 큰 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.sourceFace.bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.sourceFace.bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.sourceFace.bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.sourceFace.bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.sourceFace.landmarks</td>
<td>array</td>
<td>O</td>
<td>-</td>
<td>얼굴 특징</td>
</tr>
<tr>
<td>data.sourceFace.landmarks[].type</td>
<td>string</td>
<td>O</td>
<td>&quot;leftEye&quot;</td>
<td>유효한 값 목록:<br>&quot;leftEye&quot;, &quot;rightEye&quot;, &quot;nose&quot;, &quot;leftLip&quot;, &quot;rightLib&quot;</td>
</tr>
<tr>
<td>data.sourceFace.landmarks[].y</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 y 좌표</td>
</tr>
<tr>
<td>data.sourceFace.landmarks[].x</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 x 좌표</td>
</tr>
<tr>
<td>data.sourceFace.orientation</td>
<td>object</td>
<td></td>
<td>0.362</td>
<td>얼굴 각도</td>
</tr>
<tr>
<td>data.sourceFace.orientation.x</td>
<td>float</td>
<td></td>
<td>15.303436</td>
<td>얼굴 좌우 각도(Yaw)</td>
</tr>
<tr>
<td>data.sourceFace.orientation.y</td>
<td>float</td>
<td></td>
<td>-9.222179</td>
<td>얼굴 상하 각도(Pitch)</td>
</tr>
<tr>
<td>data.sourceFace.orientation.z</td>
<td>float</td>
<td></td>
<td>-7.97249</td>
<td>수평면 대비 얼굴 각도(Roll)</td>
</tr>
<tr>
<td>data.sourceFace.mask</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>마스크 착용 여부</td>
</tr>
<tr>
<td>data.sourceFace.spoofing</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>얼굴 스푸핑 여부</td>
</tr>
<tr>
<td>data.sourceFace.confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>입력 이미지에서 감지한 가장 큰 얼굴의 인식 신뢰도</td>
</tr>
</tbody>
</table>
<details>
  <summary>응답 본문 예</summary>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>,
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"modelVersion"</span>: <span class="hljs-string">"v1.0"</span>,
        <span class="hljs-attr">"matchedFaceDetailCount"</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">"matchedFaceDetails"</span>: [{
            <span class="hljs-attr">"faceDetail"</span>: {
                <span class="hljs-attr">"bbox"</span>: {
                    <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                    <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                    <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                    <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
                },
                <span class="hljs-attr">"landmarks"</span>: [{
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftEye"</span>,
                        <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                        <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                    },
                    {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightEye"</span>,
                        <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                        <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                    },
                    {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"nose"</span>,
                        <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                        <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                    },
                    {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftLip"</span>,
                        <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                        <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                    }, {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightLip"</span>,
                        <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                        <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                    }
                ],
                <span class="hljs-attr">"orientation"</span>: {
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">15.303436</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">-9.222179</span>,
                    <span class="hljs-attr">"z"</span>: <span class="hljs-number">-7.97249</span>
                },
                <span class="hljs-attr">"mask"</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">"spoofing"</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>
            },
            <span class="hljs-attr">"similarity"</span>: <span class="hljs-number">90.654</span>
        }, {
            <span class="hljs-attr">"faceDetail"</span>: {
                <span class="hljs-attr">"bbox"</span>: {
                    <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                    <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                    <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                    <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
                },
                <span class="hljs-attr">"landmarks"</span>: [{
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftEye"</span>,
                        <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                        <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                    },
                    {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightEye"</span>,
                        <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                        <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                    },
                    {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"nose"</span>,
                        <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                        <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                    },
                    {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftLip"</span>,
                        <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                        <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                    }, {
                        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightLip"</span>,
                        <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                        <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                    }
                ],
                <span class="hljs-attr">"orientation"</span>: {
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">15.303436</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">-9.222179</span>,
                    <span class="hljs-attr">"z"</span>: <span class="hljs-number">-7.97249</span>
                },
                <span class="hljs-attr">"mask"</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">"spoofing"</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>
            },
            <span class="hljs-attr">"similarity"</span>: <span class="hljs-number">90.654</span>
        }],
        <span class="hljs-attr">"unmatchedFaceDetailCount"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">"unmatchedFaceDetails"</span>: [{
                <span class="hljs-attr">"faceDetail"</span>: {
                    <span class="hljs-attr">"bbox"</span>: {
                        <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                        <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                        <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                        <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
                    },
                    <span class="hljs-attr">"landmarks"</span>: [{
                            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftEye"</span>,
                            <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                            <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                        },
                        {
                            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightEye"</span>,
                            <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                            <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                        },
                        {
                            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"nose"</span>,
                            <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                            <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                        },
                        {
                            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftLip"</span>,
                            <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                            <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                        }, {
                            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightLip"</span>,
                            <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                            <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                        }
                    ],
                    <span class="hljs-attr">"orientation"</span>: {
                        <span class="hljs-attr">"x"</span>: <span class="hljs-number">15.303436</span>,
                        <span class="hljs-attr">"y"</span>: <span class="hljs-number">-9.222179</span>,
                        <span class="hljs-attr">"z"</span>: <span class="hljs-number">-7.97249</span>
                    },
                    <span class="hljs-attr">"mask"</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">"spoofing"</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>
                },
                <span class="hljs-attr">"similarity"</span>: <span class="hljs-number">60.654</span>
            }

        ],
        <span class="hljs-attr">"sourceFace"</span>: {
            <span class="hljs-attr">"bbox"</span>: {
                <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.26785714285714285</span>,
                <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.22767857142857142</span>,
                <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.7366071428571429</span>,
                <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.8660714285714286</span>
            },
            <span class="hljs-attr">"landmarks"</span>: [
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.39285714285714285</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.47767857142857145</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.6071428571428571</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.4732142857142857</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"nose"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.5</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.6026785714285714</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.41964285714285715</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.7276785714285714</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.5758928571428571</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.7276785714285714</span>
                }
            ],
            <span class="hljs-attr">"orientation"</span>: {
                <span class="hljs-attr">"x"</span>: <span class="hljs-number">1.400425</span>,
                <span class="hljs-attr">"y"</span>: <span class="hljs-number">6.624787</span>,
                <span class="hljs-attr">"z"</span>: <span class="hljs-number">-2.08028</span>
            },
            <span class="hljs-attr">"mask"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"spoofing"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">0.999894</span>
        }
    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-45020</td>
<td>ImageImageTooLargeException:{Source/Target}</td>
<td>{Source/Target} Image: 이미지 크기 초과</td>
</tr>
<tr>
<td>-45030</td>
<td>InvalidImageParameterException:{Source/Target}</td>
<td>{Source/Target} 잘못된 이미지 파라미터. 주로 Base64 인코딩이 잘못된 경우 발생</td>
</tr>
<tr>
<td>-45040</td>
<td>ImageInvalidImageFormatException:{Source/Target}</td>
<td>{Source/Target} image: 지원하지 않는 이미지 포맷</td>
</tr>
<tr>
<td>-45050</td>
<td>ImageInvalidImageURLException:{Source/Target}</td>
<td>{Source/Target} image: 잘못된 이미지 URL</td>
</tr>
<tr>
<td>-45060</td>
<td>ImageImageTimeoutError:{Source/Target}</td>
<td>{Source/Target} image: 이미지 다운로드 시간 초과</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>
<h3 id="%EC%96%BC%EA%B5%B4-%EA%B2%80%EC%A6%9D">얼굴 검증</h3>
<ul>
<li>사전에 등록된 특정 얼굴의 페이스 아이디와 입력 이미지에서 감지한 얼굴을 비교하여 유사도 값을 반환하는 기능입니다.</li>
<li><a href="./api-guide/#add-face">얼굴 등록</a>을 이용하여 얼굴을 등록할 수 있습니다.</li>
<li>입력 이미지에서 감지한 얼굴 중 가장 큰 얼굴만 사용합니다.</li>
<li>입력 이미지는 Base64로 인코딩된 이미지 바이트로 전달하거나 이미지 URL로 전달할 수 있습니다.</li>
<li>입력 이미지에 대한 세부사항은 <a href="./api-guide/#input-image-guide">입력 이미지 가이드</a>를 참고하시기 바랍니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/verify/groups/{group-id}/faces/{face-id}</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
<tr>
<td>group-id</td>
<td>사용자가 등록한 그룹 아이디<br>[a-z0-9-]<br>최대 255자</td>
</tr>
<tr>
<td>face-id</td>
<td>등록된 페이스 아이디</td>
</tr>
</tbody>
</table>
<p>[Request Body]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수 여부</th>
<th>기본값</th>
<th>유효 범위</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>compareImage</td>
<td>object</td>
<td>O</td>
<td></td>
<td></td>
<td>-</td>
<td>얼굴 검증에 사용할 이미지</td>
</tr>
<tr>
<td>compareImage.url</td>
<td>string</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;https://...&quot;</td>
<td>이미지의 URL</td>
</tr>
<tr>
<td>compareImage.bytes</td>
<td>blob</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;/0j3Ohdk==...&quot;</td>
<td>Base64로 인코딩된 이미지 바이트</td>
</tr>
<tr>
<td>orientation</td>
<td>bool</td>
<td></td>
<td>true</td>
<td>true, false</td>
<td>false</td>
<td>얼굴 방향 감지 기능 사용 여부</td>
</tr>
<tr>
<td>mask</td>
<td>bool</td>
<td></td>
<td>true</td>
<td>true, false</td>
<td>false</td>
<td>마스크 착용 감지 기능 사용 여부</td>
</tr>
<tr>
<td>spoofing</td>
<td>bool</td>
<td></td>
<td>false</td>
<td>true, false</td>
<td><code>{&quot;spoofing&quot;: true}</code></td>
<td>스푸핑 감지 기능 사용 여부</td>
</tr>
<tr>
<td>spoofingCondition</td>
<td>string</td>
<td></td>
<td>&quot;balanced&quot;</td>
<td>&quot;balanced&quot;, &quot;strict&quot;, &quot;weak&quot;</td>
<td><code>{&quot;spoofingCondition&quot;:&quot;strict&quot;}</code></td>
<td>스푸핑 감지 감도</td>
</tr>
</tbody>
</table>
<ul>
<li>compareImage.url, compareImage.bytes 중 반드시 1개만 있어야 합니다.</li>
</ul>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X POST <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/verify/groups/{group-id}/faces/{face-id}'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span> -H <span class="hljs-string">'Content-Type: application/json;charset=UTF-8'</span> -d <span class="hljs-string">'{</span></span>
    "compareImage": {
        "url": "https://..."
    },
    "spoofing": true,
    "spoofingCondition": "strict"
}'
</div></code></pre>
</details>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<p>[응답 본문 데이터]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>data.similarity</td>
<td>float</td>
<td>O</td>
<td>98.156</td>
<td>0~100 값을 가지는 유사도</td>
</tr>
<tr>
<td>data.face</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>얼굴 등록 API를 이용하여 등록한 얼굴</td>
</tr>
<tr>
<td>data.face.bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>이미지 내에서 감지한 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.face.bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.face.bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.face.bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.face.bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.face.confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>얼굴 인식 신뢰도</td>
</tr>
<tr>
<td>data.face.faceId</td>
<td>string</td>
<td>O</td>
<td>&quot;9297db50-d4f2-c6b8-ea05-edf2013089fd&quot;</td>
<td>페이스 아이디</td>
</tr>
<tr>
<td>data.face.imageId</td>
<td>string</td>
<td>O</td>
<td>&quot;87db50d4-f2c6-b8ea-05ed-9f201309fd92&quot;</td>
<td>이미지 아이디<br>하나의 이미지 아이디에 여러 페이스 아이디가 존재할 수 있음</td>
</tr>
<tr>
<td>data.face.externalImageId</td>
<td>string</td>
<td></td>
<td>&quot;image01.jpg&quot;</td>
<td>사용자가 이미지에 등록한 값</td>
</tr>
<tr>
<td>data.sourceFace</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>Request Body로 전달한 이미지</td>
</tr>
<tr>
<td>data.sourceFace.bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>이미지 내에서 감지한 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.sourceFace.bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.sourceFace.bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.sourceFace.bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.sourceFace.bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.sourceFace.landmarks</td>
<td>array</td>
<td>O</td>
<td>-</td>
<td>얼굴 특징</td>
</tr>
<tr>
<td>data.sourceFace.landmarks[].type</td>
<td>string</td>
<td>O</td>
<td>&quot;leftEye&quot;</td>
<td>유효한 값 목록:<br>&quot;leftEye&quot;, &quot;rightEye&quot;, &quot;nose&quot;, &quot;leftLip&quot;, &quot;rightLib&quot;</td>
</tr>
<tr>
<td>data.sourceFace.landmarks[].y</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 y 좌표</td>
</tr>
<tr>
<td>data.sourceFace.landmarks[].x</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 x 좌표</td>
</tr>
<tr>
<td>data.sourceFace.orientation</td>
<td>object</td>
<td></td>
<td>0.362</td>
<td>얼굴 각도</td>
</tr>
<tr>
<td>data.sourceFace.orientation.x</td>
<td>float</td>
<td></td>
<td>15.303436</td>
<td>얼굴 좌우 각도(Yaw)</td>
</tr>
<tr>
<td>data.sourceFace.orientation.y</td>
<td>float</td>
<td></td>
<td>-9.222179</td>
<td>얼굴 상하 각도(Pitch)</td>
</tr>
<tr>
<td>data.sourceFace.orientation.z</td>
<td>float</td>
<td></td>
<td>-7.97249</td>
<td>수평면 대비 얼굴 각도(Roll)</td>
</tr>
<tr>
<td>data.sourceFace.mask</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>마스크 착용 여부</td>
</tr>
<tr>
<td>data.sourceFace.spoofing</td>
<td>boolean</td>
<td></td>
<td>false</td>
<td>얼굴 스푸핑 여부</td>
</tr>
<tr>
<td>data.sourceFace.confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>얼굴 인식 신뢰도</td>
</tr>
</tbody>
</table>
<details>
  <summary>응답 본문 예</summary>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>
    },
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"similarity"</span>: <span class="hljs-number">29.507784</span>,
        <span class="hljs-attr">"face"</span>: {
            <span class="hljs-attr">"bbox"</span>: {
                <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.15520833333333334</span>,
                <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.2222222222222222</span>,
                <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.24479166666666666</span>,
                <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.45185185185185184</span>
            },
            <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">0.997507</span>,
            <span class="hljs-attr">"faceId"</span>: <span class="hljs-string">"b460baac-190d-448e-9f29-c2d5d429f388"</span>,
            <span class="hljs-attr">"imageId"</span>: <span class="hljs-string">"f43a7bee-6a33-4450-82dd-16adfc6788ef"</span>,
            <span class="hljs-attr">"externalImageId"</span>: <span class="hljs-string">"imsa-control-wb801-test"</span>
        },
        <span class="hljs-attr">"sourceFace"</span>: {
            <span class="hljs-attr">"bbox"</span>: {
                <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.26785714285714285</span>,
                <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.22767857142857142</span>,
                <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.7366071428571429</span>,
                <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.8660714285714286</span>
            },
            <span class="hljs-attr">"landmarks"</span>: [
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.39285714285714285</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.47767857142857145</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.6071428571428571</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.4732142857142857</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"nose"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.5</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.6026785714285714</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.41964285714285715</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.7276785714285714</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.5758928571428571</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.7276785714285714</span>
                }
            ],
            <span class="hljs-attr">"orientation"</span>: {
                <span class="hljs-attr">"x"</span>: <span class="hljs-number">1.400425</span>,
                <span class="hljs-attr">"y"</span>: <span class="hljs-number">6.624787</span>,
                <span class="hljs-attr">"z"</span>: <span class="hljs-number">-2.08028</span>
            },
            <span class="hljs-attr">"mask"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"spoofing"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">0.999286</span>
        }
    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-40030</td>
<td>NotFoundGroupError</td>
<td>그룹 아이디를 찾을 수 없음</td>
</tr>
<tr>
<td>-40050</td>
<td>NotFoundFaceIDError</td>
<td>페이스 아이디를 찾을 수 없음</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-45020</td>
<td>ImageTooLargeException</td>
<td>이미지 크기 초과</td>
</tr>
<tr>
<td>-45030</td>
<td>InvalidImageParameterException</td>
<td>잘못된 이미지 파라미터. 주로 Base64 인코딩이 잘못된 경우 발생</td>
</tr>
<tr>
<td>-45040</td>
<td>InvalidImageFormatException</td>
<td>지원하지 않는 이미지 포맷</td>
</tr>
<tr>
<td>-45050</td>
<td>InvalidImageURLException</td>
<td>잘못된 이미지 URL</td>
</tr>
<tr>
<td>-45060</td>
<td>ImageTimeoutError</td>
<td>이미지 다운로드 시간 초과</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>
<h3 id="%EC%96%BC%EA%B5%B4-%EC%8A%A4%ED%91%B8%ED%95%91-%EA%B0%90%EC%A7%80">얼굴 스푸핑 감지</h3>
<ul>
<li>입력 이미지에서 얼굴을 찾아 스푸핑 여부를 감지하는 API입니다.</li>
<li>감지한 얼굴에서 얼굴, 눈, 코, 입 등의 위치 정보와 신뢰도 값, 스푸핑 여부를 반환합니다.</li>
<li>입력 이미지에서 얼굴이 큰 순서대로 최대 20개의 얼굴을 찾고, 스푸핑 여부를 감지합니다.</li>
<li>입력 이미지는 Base64로 인코딩된 이미지 바이트로 전달하거나 이미지 URL로 전달할 수 있습니다.</li>
<li>입력 이미지에 대한 세부사항은 <a href="./api-guide/#input-image-guide">입력 이미지 가이드</a>를 참고하시기 바랍니다.</li>
</ul>
<h4 id="%EC%9A%94%EC%B2%AD">요청</h4>
<p>[URI]</p>
<table>
<thead>
<tr>
<th>메서드</th>
<th>URI</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td>/nhn-face-reco/v1.0/appkeys/{appKey}/spoofing</td>
</tr>
</tbody>
</table>
<p>[Path Variable]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>appKey</td>
<td>통합 Appkey 또는 서비스 Appkey</td>
</tr>
</tbody>
</table>
<p>[Request Body]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수 여부</th>
<th>기본값</th>
<th>유효 범위</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>image</td>
<td>object</td>
<td>O</td>
<td></td>
<td></td>
<td>-</td>
<td>얼굴 스푸핑 감지에 사용할 이미지</td>
</tr>
<tr>
<td>image.url</td>
<td>string</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;https://...&quot;</td>
<td>이미지의 URL</td>
</tr>
<tr>
<td>image.bytes</td>
<td>blob</td>
<td>△</td>
<td></td>
<td></td>
<td>&quot;/0j3Ohdk==...&quot;</td>
<td>Base64로 인코딩된 이미지 바이트</td>
</tr>
<tr>
<td>aligned</td>
<td>bool</td>
<td></td>
<td>false</td>
<td>true, false</td>
<td>false</td>
<td>전달되는 이미지가 정렬된 이미지인지 여부<br>이미지 사이즈:224*224<br>true인 경우 얼굴을 감지하지 않고 스푸핑 여부만 감지함</td>
</tr>
<tr>
<td>spoofingCondition</td>
<td>string</td>
<td></td>
<td>&quot;balanced&quot;</td>
<td>&quot;balanced&quot;, &quot;strict&quot;, &quot;weak&quot;</td>
<td>&quot;balanced&quot;</td>
<td>얼굴 스푸핑 감지 감도</td>
</tr>
</tbody>
</table>
<ul>
<li>image.url, image.bytes 중 반드시 1개만 있어야 합니다.</li>
</ul>
<details>
  <summary>요청 예</summary>
<pre class="hljs"><code><div><span class="hljs-meta">$</span><span class="bash"> curl -X POST <span class="hljs-string">'{domain}/nhn-face-reco/v1.0/appkeys/{appKey}/spoofing'</span> -H <span class="hljs-string">'x-nhn-apikey:{API KEY}'</span> -H <span class="hljs-string">'Content-Type: application/json;charset=UTF-8'</span> -d <span class="hljs-string">'{</span></span>
    "image": {
        "url":"https://..."
    },
    "aligned": false,
    "spoofingCondition": "weak"
}'
</div></code></pre>
</details>
<h4 id="%EC%9D%91%EB%8B%B5">응답</h4>
<ul>
<li>[응답 본문 헤더 설명 생략]
<ul>
<li><a href="./api-guide/#common-response">응답 공통 정보</a>에서 확인 가능</li>
</ul>
</li>
</ul>
<p>[응답 본문 데이터]</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>타입</th>
<th>필수</th>
<th>예제</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>data.faceDetailCount</td>
<td>int</td>
<td>O</td>
<td>1</td>
<td>감지한 얼굴 수</td>
</tr>
<tr>
<td>data.faceDetails[].bbox</td>
<td>object</td>
<td>O</td>
<td>-</td>
<td>이미지 내에서 감지한 얼굴의 경계 상자(bounding box) 정보</td>
</tr>
<tr>
<td>data.faceDetails[].bbox.x0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x0 좌표</td>
</tr>
<tr>
<td>data.faceDetails[].bbox.y0</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y0 좌표</td>
</tr>
<tr>
<td>data.faceDetails[].bbox.x1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 x1 좌표</td>
</tr>
<tr>
<td>data.faceDetails[].bbox.y1</td>
<td>float</td>
<td>O</td>
<td>0.123</td>
<td>이미지 내에서 감지한 얼굴 box의 y1 좌표</td>
</tr>
<tr>
<td>data.faceDetails[].landmarks</td>
<td>array</td>
<td>O</td>
<td>-</td>
<td>얼굴 특징</td>
</tr>
<tr>
<td>data.faceDetails[].landmarks[].type</td>
<td>string</td>
<td>O</td>
<td>&quot;leftEye&quot;</td>
<td>유효한 값 목록:<br>&quot;leftEye&quot;, &quot;rightEye&quot;, &quot;nose&quot;, &quot;leftLip&quot;, &quot;rightLib&quot;</td>
</tr>
<tr>
<td>data.faceDetails[].landmarks[].y</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 y 좌표</td>
</tr>
<tr>
<td>data.faceDetails[].landmarks[].x</td>
<td>float</td>
<td>O</td>
<td>0.362</td>
<td>얼굴 특징의 x 좌표</td>
</tr>
<tr>
<td>data.faceDetails[].spoofing</td>
<td>boolean</td>
<td>O</td>
<td>false</td>
<td>얼굴 스푸핑 여부</td>
</tr>
<tr>
<td>data.faceDetails[].confidence</td>
<td>float</td>
<td>O</td>
<td>99.9123</td>
<td>얼굴 인식 신뢰도</td>
</tr>
</tbody>
</table>
<details>
  <summary>응답 본문 예</summary>
* aligned : false
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>,
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"faceDetailCount"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">"faceDetails"</span>: [{
            <span class="hljs-attr">"bbox"</span>: {
                <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0.36</span>,
                <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0.21</span>,
                <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0.612</span>,
                <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0.715</span>
            },
            <span class="hljs-attr">"landmarks"</span>: [{
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightEye"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"nose"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                },
                {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"leftLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                }, {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"rightLip"</span>,
                    <span class="hljs-attr">"x"</span>: <span class="hljs-number">0.415</span>,
                    <span class="hljs-attr">"y"</span>: <span class="hljs-number">0.513</span>
                }
            ],
            <span class="hljs-attr">"spoofing"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">99.8945155187</span>
        }]
    }
}
</div></code></pre>
<ul>
<li>aligned : true</li>
</ul>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"isSuccessful"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">"resultCode"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">"resultMessage"</span>: <span class="hljs-string">"Success"</span>
    },
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"faceDetailCount"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">"faceDetails"</span>: [
            {
                <span class="hljs-attr">"bbox"</span>: {
                    <span class="hljs-attr">"x0"</span>: <span class="hljs-number">0</span>,
                    <span class="hljs-attr">"y0"</span>: <span class="hljs-number">0</span>,
                    <span class="hljs-attr">"x1"</span>: <span class="hljs-number">0</span>,
                    <span class="hljs-attr">"y1"</span>: <span class="hljs-number">0</span>
                },
                <span class="hljs-attr">"landmarks"</span>: [],
                <span class="hljs-attr">"spoofing"</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">"confidence"</span>: <span class="hljs-number">0</span>
            }
        ]
    }
}
</div></code></pre>
</details>
<h4 id="error-codes">Error Codes</h4>
<table>
<thead>
<tr>
<th>resultCode</th>
<th>resultMessage</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>-40000</td>
<td>InvalidParam</td>
<td>파라미터에 오류가 있음</td>
</tr>
<tr>
<td>-41000</td>
<td>UnauthorizedAppKey</td>
<td>승인되지 않은 Appkey</td>
</tr>
<tr>
<td>-45020</td>
<td>ImageTooLargeException</td>
<td>이미지 크기 초과</td>
</tr>
<tr>
<td>-45030</td>
<td>InvalidImageParameterException</td>
<td>잘못된 이미지 파라미터. 주로 Base64 인코딩이 잘못된 경우 발생</td>
</tr>
<tr>
<td>-45040</td>
<td>InvalidImageFormatException</td>
<td>지원하지 않는 이미지 포맷</td>
</tr>
<tr>
<td>-45050</td>
<td>InvalidImageURLException</td>
<td>잘못된 이미지 URL</td>
</tr>
<tr>
<td>-45060</td>
<td>ImageTimeoutError</td>
<td>이미지 다운로드 시간 초과</td>
</tr>
<tr>
<td>-45070</td>
<td>InvalidImageSizeException</td>
<td>전달된 이미지의 크기가 지정된 크기(224*224)와 다름(aligned 옵션이 true인 경우 확인)</td>
</tr>
<tr>
<td>-50000</td>
<td>InternalServerError</td>
<td>서버 오류</td>
</tr>
</tbody>
</table>

</body>
</html>
